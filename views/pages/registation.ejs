<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registation Form</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="/assets/css/style.css">
</head>
<body>
    <section id="req">
        <aside>
            <h1>SIGN UP</h1>
            <form action="">
                <div class="formGroup" id="fName">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
                        <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6"/>
                      </svg>
                      <input type="text" name="usrName" placeholder="Full Name" onchange="fieldValid(event, 'fName')" onkeyup="fieldValid(event, 'fName')" />
                </div>
                <div class="formGroup" id="eMail">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-envelope-fill" viewBox="0 0 16 16">
                        <path d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414zM0 4.697v7.104l5.803-3.558zM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586zm3.436-.586L16 11.801V4.697z"/>
                      </svg>
                    <input type="email" name="usrEmail" placeholder="E-mail" onchange="fieldValid(event, 'eMail')" onkeyup="fieldValid(event, 'eMail')" />
                </div>
                <div class="formGroup" id="pass">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-lock-fill" viewBox="0 0 16 16">
                        <path d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2m3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2"/>
                      </svg>
                    <input type="password" name="usrPass" placeholder="Password" onchange="fieldValid(event, 'pass')" onkeyup="fieldValid(event, 'pass')" />
                </div>
                <div class="formGroup" id="confPass">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-lock-fill" viewBox="0 0 16 16">
                        <path d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2m3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2"/>
                      </svg>
                    <input type="password" name="confPass" placeholder="Confirm Password" onchange="fieldValid(event, 'confPass')" onkeyup="fieldValid(event, 'confPass')"/>
                </div>
                <button type="submit">CREATE</button>
                <h3>Already Have Account? <a href="">SING IN</a></h3>
            </form>
        </aside>
    </section>
        <script>
            
        const validEmailFormat = (email) => {
        const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return emailPattern.test(email);
};
        const fieldValid = (event, parentId) => {
        let field = event.target;
        let parentDiv = document.getElementById(parentId);
   
   if (!field.value) {
    parentDiv.classList.add("invalid");
    parentDiv.classList.remove("valid");
    return false;
   } else {
    if (field.name == "usrEmail") {
       if(!validEmailFormat(field.value.trim())) {
        parentDiv.classList.add("invalid");
        parentDiv.classList.remove("valid");
        return false;
       } else {
        parentDiv.classList.remove("invalid");
        parentDiv.classList.add("valid");
        return true;
       } 
        } else {
        parentDiv.classList.remove("invalid");
        parentDiv.classList.add("valid");
        return true;
    }
}
};


const passValid = (event, parentId) => {
   let field = event.target;
   let parentDiv = document.getElementById(parentId);

   if (!field.value) {
    parentDiv.classList.add("invalid");
    parentDiv.classList.remove("valid");
    return false;
   } else {
    if (document.querySelector("[name = usrPass]").value == document.querySelector("[name = confPass]").value) {   
     
        document.getElementById("pass").and("valid");
        document.getElementById("confPass").add("valid");
        document.getElementById("pass").remove("invalid");
        document.getElementById("confPass").remove("invalid");
        return true;
    } else {
        document.getElementById("pass").remove("valid");
        document.getElementById("confPass").remove("valid");
        document.getElementById("pass").add("invalid");
        document.getElementById("confPass").add("invalid");
        return false;
    }
}
};

</script>
</body>
</html>